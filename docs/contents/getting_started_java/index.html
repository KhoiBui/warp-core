<!DOCTYPE html>
<html>
  <head>
    <title>warp-core</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.38" />
<title>Getting Started (Java) :: warp-core</title>
<link rel="shortcut icon" href="https://workday.github.io/warp-core/images/favicon.png" type="image/x-icon" />
<link href="https://workday.github.io/warp-core/css/font-awesome.min.css" rel="stylesheet">
<link href="https://workday.github.io/warp-core/css/nucleus.css" rel="stylesheet">
<link href="https://workday.github.io/warp-core/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="https://workday.github.io/warp-core/css/bootstrap.min.css">
<script src="https://workday.github.io/warp-core/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/workday.github.io\/warp-core\/";
</script>
<meta name="description" content="">


    
  </head>
  <body data-url="/contents/getting_started_java/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="https://workday.github.io/warp-core/">warp-core</a>
  

  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/Workday/warp-core"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Github Repo</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/Workday/warp-core/releases"  rel="noopener">
                  <i class='fa fa-cloud-download'></i> <label>Releases</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://workday.github.io/warp-core/scaladoc/warp-core/index.html"  rel="noopener">
                  <i class='fa fa-bookmark'></i> <label>ScalaDoc</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/Workday/warp-core/blob/master/CONTRIBUTORS.md"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> <label>Contributors</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="https://workday.github.io/warp-core/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/contents/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="https://workday.github.io/warp-core/contents/">Contents</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/contents/intro/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/intro/">
            Introduction
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/getting_started_java/" class="dd-item active">
        <div>
          <a href="https://workday.github.io/warp-core/contents/getting_started_java/">
            Getting Started (Java)
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/getting_started_scala/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/getting_started_scala/">
            Getting Started (Scala DSL)
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/custom_collectors/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/custom_collectors/">
            Collecting Custom Measurements
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/custom_arbiters/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/custom_arbiters/">
            Custom Arbiters
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/measurement_collection_controller/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/measurement_collection_controller/">
            Measurement Collection Controller
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/tags/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/tags/">
            Tags
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/runtime_configuration/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/runtime_configuration/">
            Runtime Property Configuration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/persistence/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/persistence/">
            Persistence
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/dependency_injection/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/dependency_injection/">
            Dependency Injection
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/anomaly_detection/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/anomaly_detection/">
            Case Study: RPCA Anomaly Detection
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/hypothesis_testing/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/hypothesis_testing/">
            Case Study: Hypothesis Testing
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/heap_histogram/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/heap_histogram/">
            Case Study: Monitoring Heap Histogram
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/extension_advanced/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/extension_advanced/">
            Extending the Schema (advanced)
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/contents/_footer/" class="dd-item">
        <div>
          <a href="https://workday.github.io/warp-core/contents/_footer/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/contents/" >
   Contents</option> 
      <option value="/contents/intro/" >- Introduction</option>
      <option value="/contents/getting_started_java/"  selected>- Getting Started (Java)</option>
      <option value="/contents/getting_started_scala/" >- Getting Started (Scala DSL)</option>
      <option value="/contents/custom_collectors/" >- Collecting Custom Measurements</option>
      <option value="/contents/custom_arbiters/" >- Custom Arbiters</option>
      <option value="/contents/measurement_collection_controller/" >- Measurement Collection Controller</option>
      <option value="/contents/tags/" >- Tags</option>
      <option value="/contents/runtime_configuration/" >- Runtime Property Configuration</option>
      <option value="/contents/persistence/" >- Persistence</option>
      <option value="/contents/dependency_injection/" >- Dependency Injection</option>
      <option value="/contents/anomaly_detection/" >- Case Study: RPCA Anomaly Detection</option>
      <option value="/contents/hypothesis_testing/" >- Case Study: Hypothesis Testing</option>
      <option value="/contents/heap_histogram/" >- Case Study: Monitoring Heap Histogram</option>
      <option value="/contents/extension_advanced/" >- Extending the Schema (advanced)</option>
      <option value="/contents/_footer/" >- </option>
  



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="https://workday.github.io/warp-core/js/lunr.min.js"></script>
        <script type="text/javascript" src="https://workday.github.io/warp-core/js/auto-complete.js"></script>
        <link href="https://workday.github.io/warp-core/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/workday.github.io\/warp-core\/";
          
        </script>
        <script type="text/javascript" src="https://workday.github.io/warp-core/js/search.js"></script>
      </div>
    

    <h1>Getting Started (Java)</h1>
    
    
    
    

<p>The recommended way to interact with WARP is through the Scala DSL.
The Scala DSL is more rich-featured,
however, we also support calling a subset of our functionality through a Java API called Telemetron.
Telemetron is based on annotations and JUnit <a href="https://junit.org/junit4/javadoc/4.12/org/junit/Rule.html">@Rule</a>.</p>

<p>Each facet of WARP functionality is implemented as a separate rule,
and we use a <a href="https://junit.org/junit4/javadoc/4.12/org/junit/rules/RuleChain.html">RuleChain</a>
to ensure the rules are applied in the correct order.</p>

<p>To get started, your JUnit class can either:</p>

<ul>
<li>declare an <code>@Rule</code> with a <code>TelemetronRule</code> instance.</li>
<li>extend the abstract class <code>TelemetronJUnitSpec</code>.</li>
</ul>

<h2 id="telemetron-java-annotations">Telemetron Java Annotations</h2>

<ul>
<li><p><code>@Schedule</code> is used to configure the measurement framework with information about how the test should be invoked, and
supports several optional configuration parameters:</p>

<ul>
<li><code>invocations</code> indicates how many times the test should be invoked.</li>
<li><code>warmupInvocations</code> indicates how many times the test should be invoked without being measured or having requirements
checked.</li>
<li><code>threads</code> indicates the number of concurrent threads the test will be executed on. Note that we do not create
multiple instances of the test class. References to shared mutable state must be synchronized.</li>
</ul></li>

<li><p><code>@BeforeOnce</code> and <code>@AfterOnce</code> provide a hook for one-time setup/teardown JUnit methods.
Telemetron honors the <code>@Before</code>/<code>@After</code> JUnit contract: an <code>@Before</code> method should be invoked before each test invocation.
However, some use cases (especially using <code>@Schedule</code> with multiple invocations and threads) require the ability to perform
a single setup/teardown cycle for the entire test schedule.
Methods annotated with <code>@BeforeOnce</code> or <code>@AfterOnce</code> will be invoked a single time at the start/end
of the test schedule for each test method.</p></li>

<li><p><code>@Distribution</code> is used to conduct forms of load testing.
Test methods with multiple invocations can be further modified with this annotation to artificially inject latency
between each test invocation.</p></li>

<li><p><code>@Measure</code> is used to specify that response time measurements for the test method should be persisted.</p></li>

<li><p><code>@Required</code> is used to specify a response time threshold that your test must meet.</p></li>
</ul>

<p>Putting it all together, we can write a test that is invoked 32 times on a small thread pool. Each individual invocation
must complete within 1 second. A Gaussian distribution with mean and standard deviation of 50 and 10 milliseconds is used
to inject artificial latency between each invocation.
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@Test</span>
<span style="color:#75af00">@Schedule</span><span style="color:#f92672">(</span>
	<span style="color:#111">invocations</span> <span style="color:#f92672">=</span> <span style="color:#111">32</span><span style="color:#f92672">,</span>
	<span style="color:#111">threads</span> <span style="color:#f92672">=</span> <span style="color:#111">4</span><span style="color:#f92672">,</span>
	<span style="color:#111">distribution</span> <span style="color:#f92672">=</span> <span style="color:#75af00">@Distribution</span><span style="color:#f92672">(</span>
		<span style="color:#111">clazz</span> <span style="color:#f92672">=</span> <span style="color:#111">GaussianDistribution</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">,</span>
		<span style="color:#111">parameters</span> <span style="color:#f92672">=</span> <span style="color:#f92672">{</span><span style="color:#111">50</span><span style="color:#f92672">,</span> <span style="color:#111">10</span><span style="color:#f92672">}</span>
	<span style="color:#f92672">)</span>
<span style="color:#f92672">)</span>
<span style="color:#75af00">@Measure</span>
<span style="color:#75af00">@Required</span><span style="color:#f92672">(</span><span style="color:#111">maxResponseTime</span> <span style="color:#f92672">=</span> <span style="color:#111">1</span><span style="color:#f92672">)</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">exampleTest</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
	<span style="color:#111">Logger</span><span style="color:#f92672">.</span><span style="color:#75af00">info</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;executing test&#34;</span><span style="color:#f92672">);</span>
<span style="color:#f92672">}</span></code></pre></div></p>

<p>When the run has completed, we can see some rudimentary statistics printed to stdout:</p>

<pre><code>samples:    32
min:        0.000
max:        0.037
median:     0.001
avg:        0.005
geomean:    0.000
std dev:    0.012
skewness:   2.361
kurtosis:   3.855
</code></pre>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="https://workday.github.io/warp-core/contents/intro/" title="Introduction"> <i class="fa fa-chevron-left"></i><label>Introduction</label></a>
    <a class="nav nav-next" href="https://workday.github.io/warp-core/contents/getting_started_scala/" title="Getting Started (Scala DSL)" style="margin-right: 0px;"><label>Getting Started (Scala DSL)</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

  
    <div class="date">
        <i class='fa fa-calendar'></i> Last update on 02/04/2018
    </div>
    

    <div class="github-link">
      <a href="https://github.com/vjeantet/hugo-theme-docdock/edit/master/exampleSite/content/contents/getting_started_java.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="https://workday.github.io/warp-core/js/clipboard.min.js"></script>

<link href="https://workday.github.io/warp-core/css/featherlight.min.css" rel="stylesheet">
<script src="https://workday.github.io/warp-core/js/featherlight.min.js"></script>



<script src="https://workday.github.io/warp-core/theme-flex/script.js"></script>

    

    
    

    
  </body>
</html>